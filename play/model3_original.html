<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/model_original.css">
</head>
<body></body>
</html>

<script src="js/helpers.js"></script>
<script src="js/minpubsub.js"></script>
<script src="js/Loader.js"></script>
<script src="js/Mouse.js"></script>
<script src="js/Draggable.js"></script>
<script src="js/Model.js"></script> <script src="js/Yee.js"></script>
<script src="js/Candidate.js"></script>
<script src="js/Voters.js"></script>
<script src="js/Election.js"></script>
<script src="js/Ballot.js"></script> 
<script src="../rbvote/rbvote.js"></script>
<script src="js/seedrandom.min.js"></script>

<script>
Loader.onload = function(){

// CREATE

window.model = new Model();

// INIT
model.initDOM()
document.body.appendChild(model.dom);

model.start = function(){
	// CREATE
	model.voters.push(new GaussianVoters(model))
	model.candidates.push(new Candidate(model))
	model.candidates.push(new Candidate(model))
	model.candidates.push(new Candidate(model))
	// CONFIGURE
	Object.assign( model.voters[0],    {x:155, y:125, type: new PluralityVoter(model)} )
	Object.assign( model.candidates[0],{x: 50, y:125, id:"square"} )
	Object.assign( model.candidates[1],{x:250, y:125, id:"triangle"} )
	Object.assign( model.candidates[2],{x:280, y:280, id:"hexagon"} )
	// INIT
	model.initMODEL()
	model.voters[0].init()
	model.candidates[0].init()
	model.candidates[1].init()
	model.candidates[2].init()
	model.election = Election.plurality;
	model.optionsForElection =  {sidebar:true, original:true}
	// UPDATE
	model.update()
};

var resetDOM = document.createElement("div");
document.body.appendChild(resetDOM);
resetDOM.id = "reset";
resetDOM.innerHTML = "reset";
resetDOM.style.top = "415px";
resetDOM.style.left = "110px";
resetDOM.onclick = function(){
	model.reset();
};

// UPDATE
model.start();
};
Loader.load([
	"play/img/voter_face.png",
	"play/img/square.png",
	"play/img/triangle.png",
	"play/img/hexagon.png"
]);
</script>